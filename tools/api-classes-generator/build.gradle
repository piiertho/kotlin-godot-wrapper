plugins {
    id("org.jetbrains.kotlin.jvm")
}

version = "1.0.0"


sourceCompatibility = 1.8

repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    implementation("org.jetbrains.kotlin:kotlin-stdlib-jdk8")
    implementation("com.beust:klaxon:3.0.1") //5.2
}

apply plugin: 'kotlin'
apply plugin: 'application'

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

mainClassName = "GeneratorKt"
defaultTasks = ["run"]

build.finalizedBy(run) //execute godot api classes generation after building the api_classes_generator project
clean.doFirst {
    delete "${rootDir}/wrapper/godot-library/src/main/kotlin/godot/generated" //delete classes generated by this generator
}